{"version":3,"sources":["../../src/pages/menu/menu.module.ts","../../src/pages/base.page.ts","../../src/pages/menu/menu.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MenuPage } from './menu';\nimport {PipesModule } from \"../../pipes/pipes.module\"\n\n@NgModule({\n  declarations: [\n    MenuPage,\n  ],\n  imports: [\n  PipesModule,\n    IonicPageModule.forChild(MenuPage),\n  ],\n})\nexport class MenuPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/menu/menu.module.ts","import { NavController, NavParams, AlertController } from 'ionic-angular';\r\nimport {Events} from \"ionic-angular/index\";\r\n\r\n/**\r\n * Generated class for the BasePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n\r\nexport abstract class BasePage {\r\n  protected alertController : AlertController;\r\n  protected events : Events;\r\n  constructor(alertController : AlertController, events : Events) {\r\n  \tthis.alertController = alertController;\r\n  \tthis.events = events;\r\n  }\r\n\r\n\r\n\r\n  presentAlert(title : string, message : string,handler? : () => any) {\r\n\t  let alert = this.alertController.create({\r\n\t    title: title,\r\n\t    subTitle: message,\r\n\t    buttons: [{ \r\n\t    \ttext:'Ok',\r\n\t    \thandler : handler\r\n\t    }]\r\n\t  });\r\n\t  alert.present();\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/base.page.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, Platform } from 'ionic-angular';\nimport {BasePage} from \"../../pages/base.page\";\nimport {Events} from \"ionic-angular/index\";\nimport {SensorProvider } from \"../../providers/sensor/sensor.provider\"\nimport {BackgroundMode} from '@ionic-native/background-mode';\n\n/**\n * Generated class for the MenuPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n\n @IonicPage()\n @Component({\n   selector: 'page-menu',\n   templateUrl: 'menu.html',\n })\n export class MenuPage extends BasePage{\n\n   roles = ['observer' , 'maintenance' , 'specialist'];\n\n   allMenus : any = {}\n\n   menus : any[] = [];\n\n   constructor(public navCtrl: NavController, public navParams: NavParams,\n     alert : AlertController,\n     events : Events,\n     private sensorProvider : SensorProvider,\n     private platform : Platform,\n     private backgroundMode : BackgroundMode) {\n     super(alert,events);\n     this.loadRoleMenus();\n   }\n\n   ionViewDidLoad() {\n     console.log('ionViewDidLoad MenuPage');\n   }\n\n   loadRoleMenus(){\n     for(let role of this.roles)\n       this.allMenus[role] = [];\n       this.sensorProvider.loadXml().subscribe( xml => {\n       let menu, menuRole;\n       for(let role of this.roles){\n         menuRole = xml.IODevice.ProfileBody[\"0\"].\n         DeviceFunction[\"0\"].UserInterface[\"0\"][role.charAt(0).toUpperCase() + role.slice(1) + 'RoleMenuSet'][\"0\"];\n         for(menu of Object.keys(menuRole)){\n           this.allMenus[role].push({\"name\" : Array(menu.split('_')).pop()[0].replace(\"Menu\",\"\"), \"id\" : menuRole[menu][\"0\"].$.menuId});\n         }\n       }\n     });\n   }  \n\n   goToMenu(menu : any){\n     this.navCtrl.push('ParametersMenuPage',{ \"menu\" : menu});\n   }\n\n   setRole(role:any){\n     this.menus = this.allMenus[role.trim().toLowerCase()];\n   }\n\n   goHome(){\n     this.navCtrl.pop();\n   }\n\n   exit(){\n     if(this.platform.is('cordova')){\n       this.backgroundMode.moveToBackground();\n     }\n    //this.platform.exitApp();\n   }\n\n }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/menu/menu.ts"],"sourceRoot":""}